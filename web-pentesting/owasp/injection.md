# Injection

#### 1. **Was ist Command Injection?**

**Command Injection** tritt auf, wenn eine Webanwendung Benutzereingaben direkt an Systembefehle übergibt, ohne diese zu überprüfen. Das gibt einem Angreifer die Möglichkeit, eigene Befehle auf dem Server auszuführen.

#### 2. **Beispiel: Cowsay-Anwendung**

In der gezeigten **Cowsay**-Anwendung wird der Befehl `passthru()` verwendet, um den Linux-Befehl **cowsay** mit den Eingaben des Benutzers auszuführen.

*   Der PHP-Befehl **`passthru()`** führt ein Systemkommando aus und gibt das Ergebnis direkt an den Browser weiter. In unserem Beispiel bedeutet dies, dass der Text, den der Benutzer eingibt, an den Befehl übergeben wird:

    ```php
    phpCopy codepassthru("perl /usr/bin/cowsay -f $cow $mooing");
    ```

Hier werden die Benutzereingaben `$cow` und `$mooing` direkt in das Kommando eingefügt.

#### 3. **Wie funktioniert der Angriff?**

Ein Angreifer kann spezielle Zeichen in seine Eingaben einfügen, um weitere Befehle einzuschleusen. Zum Beispiel kann er `$(whoami)` eingeben. Dadurch wird dieser Befehl zuerst ausgeführt, und das Ergebnis (der Benutzername des Servers) wird dann als Text von **cowsay** angezeigt.

* **Beispiel**:
  * Eingabe: `$(whoami)`
  * Ergebnis: Die Kuh sagt „apache“, weil der Befehl `whoami` den Benutzer des Webservers ausgibt.
